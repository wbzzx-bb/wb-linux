<mxfile host="app.diagrams.net" modified="2024-06-24T07:51:24.110Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" etag="5vOnupt2AwBLu1seUWo9" version="24.6.2" type="github">
  <diagram id="wFE0QG_FPsp0jaGvCLVb" name="Page-1">
    <mxGraphModel dx="2074" dy="1106" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="jPp7AaR7GWy1GO26mgqh-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="jPp7AaR7GWy1GO26mgqh-54" target="jPp7AaR7GWy1GO26mgqh-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-54" value="query_ist" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="1730" width="350" height="130" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-55" value="&lt;div&gt;内核调用query_ist方法获取intel SpeedStep信息，这个方法首先检查CPU类型，然后调用0x15中断获取这个信息并放入到boot_params中&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-54" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="100" as="geometry" />
        </mxCell>
        <mxCell id="215-eHgmbYdkAp0iwA8i-2" value="&lt;span style=&quot;font-weight: 700;&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;arch/x86/boot/header.S&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="80" y="80" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="215-eHgmbYdkAp0iwA8i-3" target="jPp7AaR7GWy1GO26mgqh-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="215-eHgmbYdkAp0iwA8i-3" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;_start&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="120" y="170" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="215-eHgmbYdkAp0iwA8i-7" value="main" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="600" width="200" height="200" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jPp7AaR7GWy1GO26mgqh-12" target="215-eHgmbYdkAp0iwA8i-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-12" value="&lt;span style=&quot;font-size: medium; text-align: left;&quot;&gt;start_of_setup&lt;/span&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="410" width="200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-13" value="段寄存器设置" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="jPp7AaR7GWy1GO26mgqh-12" vertex="1">
          <mxGeometry y="30" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-14" value="设置堆栈" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="jPp7AaR7GWy1GO26mgqh-12" vertex="1">
          <mxGeometry y="60" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-15" value="设置BSS" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="jPp7AaR7GWy1GO26mgqh-12" vertex="1">
          <mxGeometry y="90" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-21" value="&lt;div style=&quot;color: #292929;background-color: #ffffff;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 14px;line-height: 19px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #515151;&quot;&gt;# Jump to C code (should not return)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #292929;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;calll&lt;/span&gt;&lt;span style=&quot;color: #292929;&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;main&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="540" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-22" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(0, 16, 128); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt;.byte&lt;/span&gt;&lt;span style=&quot;color: rgb(41, 41, 41); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(9, 109, 72); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt;0xeb&lt;/span&gt;&lt;span style=&quot;color: rgb(41, 41, 41); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(81, 81, 81); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt;# short (2-byte) jump，&lt;/span&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot; color=&quot;#515151&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;jmp的opcode是0xeb&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(0, 16, 128); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt;.byte&lt;/span&gt;&lt;span style=&quot;color: rgb(41, 41, 41); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt;start_of_setup&lt;/span&gt;&lt;span style=&quot;color: rgb(9, 109, 72); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt;-1&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 16, 128); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; white-space: pre;&quot;&gt;f &lt;/span&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot; color=&quot;#001080&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;跳转到start_of_setup代码段&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="230" y="290" width="500" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-23" value="&lt;span style=&quot;font-weight: 700;&quot;&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;arch/x86/boot/main.c&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="800" y="90" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-24" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;main&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="820" y="170" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="jPp7AaR7GWy1GO26mgqh-25" target="jPp7AaR7GWy1GO26mgqh-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-25" value="copy_boot_params" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="320" width="350" height="220" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-26" value="将启动参数拷贝到zeropage" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="jPp7AaR7GWy1GO26mgqh-25" vertex="1">
          <mxGeometry y="40" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-28" value="函数将内核设置信息拷贝到boot_praams结构的相应字段，boot_params结构中包含struct setup_header_hdr字段。这个结构包含了linux boot protocol中定义的相同的字段，并且由boot loader填写留在内核编译的时候copy_boot_params完成两个工作：&lt;div&gt;1、将header.S中定义的hdr结构中的内容拷贝到boot_params结构的字段struct setup_header hdr中。&lt;/div&gt;&lt;div&gt;2、如何内核是通过老的命令行协议已婚性起来的，那么就更新内核的命令行指针&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-25" vertex="1">
          <mxGeometry x="10" y="70" width="330" height="130" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jPp7AaR7GWy1GO26mgqh-30" target="jPp7AaR7GWy1GO26mgqh-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-30" value="console_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="620" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-31" value="arch\x86\boot\early_serial_console.c" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="jPp7AaR7GWy1GO26mgqh-30" vertex="1">
          <mxGeometry x="10" y="30" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jPp7AaR7GWy1GO26mgqh-35" target="jPp7AaR7GWy1GO26mgqh-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-35" value="init_heap" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="790" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-37" value="堆栈和bss段在header.S中被初始化之后，内核需要初始化全局堆。&lt;div&gt;全局堆初始化后，才能使用GET_HEAP方法&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-35" vertex="1">
          <mxGeometry x="10" y="20" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jPp7AaR7GWy1GO26mgqh-39" target="jPp7AaR7GWy1GO26mgqh-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-39" value="validate_cpu" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="930" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-41" value="arch\x86\boot\cpu.c" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="jPp7AaR7GWy1GO26mgqh-39" vertex="1">
          <mxGeometry y="30" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-40" value="检查CPU是否支持" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-39" vertex="1">
          <mxGeometry x="10" y="60" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jPp7AaR7GWy1GO26mgqh-42" target="jPp7AaR7GWy1GO26mgqh-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-42" value="set_bios_mode" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="1100" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-46" value="detect_memory" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="1230" width="350" height="130" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-47" value="使用detect_memory方法进行内存侦测，以得到系统当前内存的使用分布。包括0xe820（获取全部内存分配）、0xe801和0xe88（获取临近内存大小）&lt;div&gt;内存侦测结束后，内存分配信息将被希尔芙到e820entry（820模式）数据组中，并在在dmesg中可以看到这个数组的内容&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-46" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="jPp7AaR7GWy1GO26mgqh-48" target="jPp7AaR7GWy1GO26mgqh-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-48" value="keyboard_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="1440" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-49" value="键盘初始化" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-48" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jPp7AaR7GWy1GO26mgqh-47" target="jPp7AaR7GWy1GO26mgqh-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jPp7AaR7GWy1GO26mgqh-56" target="jPp7AaR7GWy1GO26mgqh-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-56" value="query_apm_bios" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="1910" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-57" value="&lt;div&gt;调用query_apm_bios方法从BIOS获取高级电源管理信息&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-56" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jPp7AaR7GWy1GO26mgqh-58" target="jPp7AaR7GWy1GO26mgqh-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-58" value="query_edd" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="2060" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-59" value="&lt;div&gt;从BIOS中查询Enhanced DISK Drive信息&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-58" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="jPp7AaR7GWy1GO26mgqh-52" target="jPp7AaR7GWy1GO26mgqh-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-52" value="query_mca" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="1540" width="350" height="130" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-53" value="&lt;div&gt;query_mca方法调用0x15中断来获取机器的型号信息、BIOS版本以及其他一些硬件相关的属性。&lt;/div&gt;&lt;div&gt;query_mca代码的最后，代码将es:bx指向的内存地址的内容拷贝到boot_params.sys_desc_table&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-52" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="jPp7AaR7GWy1GO26mgqh-70" target="jPp7AaR7GWy1GO26mgqh-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-70" value="set_video" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="2210" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-71" value="&lt;div&gt;set_video函数从boot_params.hdr中获取显示模式设置（vid_mode）&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="jPp7AaR7GWy1GO26mgqh-70" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-73" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="770" y="1530" width="20" height="650" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-61" value="获取系统信息" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="730" y="1840" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jPp7AaR7GWy1GO26mgqh-75" value="go_to_protected_mode" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="820" y="2350" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-2" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;go_to_protected_mode&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1340" y="170" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-3" target="n0Vx_WlOkcHuKILNx8sB-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-3" value="realmode_switch_hook" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="320" width="350" height="170" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-4" value="&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;asm&lt;/span&gt; &lt;span style=&quot;color: #0f4a85;&quot;&gt;volatile&lt;/span&gt;(&lt;span style=&quot;color: #0f4a85;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;cli&lt;/span&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;&quot;&lt;/span&gt;); 清除中断标志&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(94, 44, 188);&quot;&gt;outb&lt;/span&gt;(&lt;span style=&quot;color: rgb(9, 109, 72);&quot;&gt;0x80&lt;/span&gt;, &lt;span style=&quot;color: rgb(9, 109, 72);&quot;&gt;0x70&lt;/span&gt;);&lt;span style=&quot;color: rgb(81, 81, 81);&quot;&gt; /* Disable NMI */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;io_delay&lt;/span&gt;();&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="n0Vx_WlOkcHuKILNx8sB-3" vertex="1">
          <mxGeometry x="10" y="30" width="290" height="70" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-6" value="在NMI中断被禁止后，通过写0x80进CMOS地址寄存器0x70，然后调用io_delay函数等待I/O操作完成" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="n0Vx_WlOkcHuKILNx8sB-3" vertex="1">
          <mxGeometry y="110" width="335" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-8" target="n0Vx_WlOkcHuKILNx8sB-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-8" value="enable_a20" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="570" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-12" target="n0Vx_WlOkcHuKILNx8sB-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-12" value="reset_processor" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="740" width="350" height="120" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-14" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#0f4a85&quot;&gt;outb(0, 0xf0);&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#0f4a85&quot;&gt;outb(0,0xf1);  通过将0写入I/O端口0xf0和0xf1&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#0f4a85&quot;&gt;               实现复位数字协处理器&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="n0Vx_WlOkcHuKILNx8sB-12" vertex="1">
          <mxGeometry x="10" y="30" width="340" height="70" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-15" target="n0Vx_WlOkcHuKILNx8sB-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-15" value="make_all_interrupts" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="920" width="350" height="230" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-16" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot; color=&quot;#0f4a85&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space-collapse: preserve;&quot;&gt;outb(0xff, 0xa1);&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Consolas, Courier New, monospace&quot; color=&quot;#0f4a85&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;/* Mask all interrupts on the secondary PIC */&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot; color=&quot;#0f4a85&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space-collapse: preserve;&quot;&gt;io_delay();&lt;br&gt;outb(0xfb, 0x21);&#x9;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot; color=&quot;#0f4a85&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;/* Mask all but cascade on the primary PIC */&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;io_delay();&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="n0Vx_WlOkcHuKILNx8sB-15" vertex="1">
          <mxGeometry x="10" y="25" width="280" height="130" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-20" value="屏蔽中断控制器（PIC：Programmable Interrupt Controller）的所有中断，和主终端上除IRQ2异味的所有中断（IRQ2是主中断控制器上的级联中断，所有中断控制器的中断将通过这个级联中断报告给CPU）" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="n0Vx_WlOkcHuKILNx8sB-15" vertex="1">
          <mxGeometry x="10" y="170" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-23" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="1300" y="320" width="20" height="830" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-24" value="切保护模式准备工作" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1265" y="730" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-25" target="n0Vx_WlOkcHuKILNx8sB-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-25" value="setup_idt" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="1210" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-26" target="n0Vx_WlOkcHuKILNx8sB-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-26" value="setup_gdt" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="1310" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-27" value="protected_mode_jump" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1340" y="1440" width="350" height="200" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-28" value="arch\x86\boot\pmjump.S" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="n0Vx_WlOkcHuKILNx8sB-27" vertex="1">
          <mxGeometry y="30" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-29" value="接受如下两个参数：&lt;div&gt;- 保护模式代码的入口&lt;/div&gt;&lt;div&gt;- boot_parms结构的地址&lt;/div&gt;&lt;div&gt;通过设置CR0寄存器相应的位是CPU进入保护模式&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;movl&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;%cr0, %edx&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;orb&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;$X86_CR0_PE, %dl&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;# Protected mode&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;movl&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;%edx, %cr0&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;在进入保护模式之后，通过一个长跳转进入32位代码&lt;/div&gt;&lt;div&gt;jmpl&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;*%eax&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;# Jump to the 32-bit entrypoint&lt;br&gt;&lt;/div&gt;&lt;div&gt;这段代码将跳转到arch\x86\boot\compressed\head_64.S&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="n0Vx_WlOkcHuKILNx8sB-27" vertex="1">
          <mxGeometry x="5" y="60" width="330" height="120" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-33" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;arch\x86\boot\pm.c&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1320" y="90" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-34" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;arch\x86\boot\compressed\head_64.S&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1890" y="90" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-35" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;startup_32&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="1860" y="170" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-36" target="n0Vx_WlOkcHuKILNx8sB-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-36" value="重新加载内存段寄存器" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1860" y="330" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-37" target="n0Vx_WlOkcHuKILNx8sB-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-37" value="栈的建立和CPU的确认" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1860" y="520" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-38" target="n0Vx_WlOkcHuKILNx8sB-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-38" value="计算重定位地址" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1860" y="710" width="350" height="220" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-39" value="内核重定位的意义：内核的32位入口点地址位于0x100000,（但这个地址是一个32位的入口，）。默认的内核基地址是有内核配置项CONFIG_PHYSICAL_START的值确定，其默认值是0x1000000或16MB。&lt;div&gt;如果内核崩溃，内核开发者需要一个配置于不同地址加载的救援内核来进行kdump，linux内核提供了特殊的配置选项（CONFIG_RELOCATABLE）来解决次问题。简单来说，想通配置下的linux内核可以从不同地址启动，这是通过位置无关代码的形式编译得到的。&lt;/div&gt;&lt;div&gt;使用位置无关代码是，一段代码的地址是由一个控制地址加上程序计数器计算得到的。所以我们需要计算出内核解压的地址&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="n0Vx_WlOkcHuKILNx8sB-38" vertex="1">
          <mxGeometry x="6" y="35" width="330" height="170" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-42" target="n0Vx_WlOkcHuKILNx8sB-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-42" value="更新全局描述符表" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1860" y="985" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-43" value="切换到长模式" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1860" y="1180" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-46" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;startup_64&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="2310" y="170" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-47" target="n0Vx_WlOkcHuKILNx8sB-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-47" value="内核解压前的准备" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2310" y="330" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-48" target="n0Vx_WlOkcHuKILNx8sB-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-48" value="加压内核" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2310" y="520" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="n0Vx_WlOkcHuKILNx8sB-49" target="n0Vx_WlOkcHuKILNx8sB-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-49" value="parse_elf" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2310" y="680" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-54" value="&lt;div&gt;parse_elf和handle_relocations的主要用途是把解压后的内核移动到正确的位置。&lt;/div&gt;&lt;div&gt;内核镜像是一个ELF可执行文件，所以parse_elf的主要目标是移动可加载的段到正确的位置&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="n0Vx_WlOkcHuKILNx8sB-49" vertex="1">
          <mxGeometry x="10" y="20" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-50" value="handle_relocations" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2310" y="850" width="350" height="150" as="geometry" />
        </mxCell>
        <mxCell id="n0Vx_WlOkcHuKILNx8sB-55" value="&lt;div&gt;对内核进行重定位，然后从extract_kernel回来，此时内核的地址在rax寄存器里，跳回到rax寄存器，就回到了内核&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;jmp &amp;nbsp; &amp;nbsp;&lt;/span&gt;*%&lt;span style=&quot;color: #185e73;&quot;&gt;rax&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;font color=&quot;#185e73&quot;&gt;解压后的内核镜像的入口点定义在arch/x86/kernel&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;font color=&quot;#185e73&quot;&gt;/head_64.S&lt;/font&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="n0Vx_WlOkcHuKILNx8sB-50" vertex="1">
          <mxGeometry x="10" y="40" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-1" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;arch\x86\kernel\head_64.S&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2920" y="80" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-2" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;startup_64&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="2890" y="170" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-3" target="xLDLfK03S4XXTLqaUx2n-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-3" value="计算内核地址" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="320" width="350" height="140" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-4" value="&lt;div&gt;因为内核的物理基址可能会发生变化（比如开启kASLR），所以需要通过如下代码重新计算真正的地址&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;leaq&lt;/span&gt; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;color: #001080;&quot;&gt;_text&lt;/span&gt;(%&lt;span style=&quot;color: #001080;&quot;&gt;rip&lt;/span&gt;), %&lt;span style=&quot;color: #185e73;&quot;&gt;rbp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;subq&lt;/span&gt; &amp;nbsp; &amp;nbsp;$&lt;span style=&quot;color: #001080;&quot;&gt;_text&lt;/span&gt; - &lt;span style=&quot;color: #001080;&quot;&gt;__START_KERNEL_map&lt;/span&gt;, %&lt;span style=&quot;color: #185e73;&quot;&gt;rbp&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-3" vertex="1">
          <mxGeometry x="10" y="40" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-6" target="xLDLfK03S4XXTLqaUx2n-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-6" value="检查地址是否对齐" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="520" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-9" target="xLDLfK03S4XXTLqaUx2n-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-9" value="检查地址是是否过大" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="660" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-10" target="xLDLfK03S4XXTLqaUx2n-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-10" value="修正页表基地址" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="820" width="350" height="100" as="geometry">
            <mxRectangle x="2890" y="820" width="120" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-11" value="&lt;div&gt;如果startup_64的值不是默认的0x1000000，则包括early_level4_pgt、level3_kernel_gpt在内的很多地址都会不正确，所以，需要进行地址修正。&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-10" vertex="1">
          <mxGeometry x="10" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-12" target="xLDLfK03S4XXTLqaUx2n-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-12" value="Identity Map Paging" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="960" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-13" value="&lt;div&gt;在Identity映射分页中，虚拟地址将会被映射到地址相同的物理地址上&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-12" vertex="1">
          <mxGeometry x="10" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-14" target="xLDLfK03S4XXTLqaUx2n-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-14" value="Enable PAE mode And PGE" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="1110" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-16" target="xLDLfK03S4XXTLqaUx2n-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-16" value="检查是否支持NX" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="1260" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-17" value="&lt;div&gt;如果支持NX需要把_EFER_NX写入MSR，然后对cr0中的一些位进行设置&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-16" vertex="1">
          <mxGeometry x="10" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-24" target="xLDLfK03S4XXTLqaUx2n-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-24" value="设置启动时栈" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="1410" width="350" height="150" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-25" value="&lt;div&gt;为了从汇编执行C代码，需要建立一个栈&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;&amp;nbsp; &amp;nbsp; movq &lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;stack_start&lt;/span&gt;(%&lt;span style=&quot;color: #001080;&quot;&gt;rip&lt;/span&gt;), %&lt;span style=&quot;color: #185e73;&quot;&gt;rsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #515151;&quot;&gt;/* zero EFLAGS after setting rsp */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;pushq&lt;/span&gt; &lt;span style=&quot;color: #096d48;&quot;&gt;$0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;&amp;nbsp; &amp;nbsp; popfq&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-24" vertex="1">
          <mxGeometry x="10" y="60" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-27" target="xLDLfK03S4XXTLqaUx2n-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-27" value="更新全局描述符表" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="1630" width="350" height="150" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-28" value="&lt;div&gt;虽然当前内核工作在用户空间的底地址中，但很快内核将运行在自己的地址空间，不能再访问用户空间&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;lgdt &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;early_gdt_descr&lt;/span&gt;(%&lt;span style=&quot;color: #001080;&quot;&gt;rip&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;&lt;div&gt;更新全局描述符表后，需要重新加载各个段&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-27" vertex="1">
          <mxGeometry x="10" y="60" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-29" value="跳转到C代码" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2890" y="1820" width="350" height="280" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-30" value="&lt;div&gt;&lt;span style=&quot;background-color: rgb(251, 251, 251);&quot;&gt;将实模式中的bootparam结构的地址放入rdi，然后把initial_code放入rax&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;movq &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;initial_code&lt;/span&gt;(%&lt;span style=&quot;color: #001080;&quot;&gt;rip&lt;/span&gt;),%&lt;span style=&quot;color: #185e73;&quot;&gt;rax&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;pushq&lt;/span&gt; &amp;nbsp; &lt;span style=&quot;color: #096d48;&quot;&gt;$0&lt;/span&gt; &amp;nbsp;&lt;span style=&quot;color: #515151;&quot;&gt;r&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;pushq&lt;/span&gt; &amp;nbsp; $&lt;span style=&quot;color: #001080;&quot;&gt;__KERNEL_CS&lt;/span&gt; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;color: #515151;&quot;&gt;# set correct cs&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;pushq&lt;/span&gt; &amp;nbsp; %&lt;span style=&quot;color: rgb(24, 94, 115);&quot;&gt;rax&lt;/span&gt; &lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;lretq&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(251, 251, 251);&quot;&gt;我们可以看到initial_code包含了&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;x86_64_start_kernel的细致，其定义在&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;arch\x86\kernel\head64.c&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;.balign&lt;/span&gt; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;color: #096d48;&quot;&gt;8&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;GLOBAL&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;initial_code&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;.quad&lt;/span&gt; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;x86_64_start_kernel&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;GLOBAL&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;initial_gs&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(15, 74, 133); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre;&quot;&gt;这是内核中执行的第一个C语言代码&amp;nbsp; &lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-29" vertex="1">
          <mxGeometry x="10" y="40" width="330" height="230" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-33" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;arch\x86\kernel\head64.c&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3400" y="80" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-34" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;x86_64_start_kernel&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="3370" y="170" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-35" target="xLDLfK03S4XXTLqaUx2n-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-35" value="前置检查" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3370" y="320" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-36" value="1、模块的虚拟地址不能低于text段基地址&lt;div&gt;2、模块的内核text段的空间不能小于内核镜像大小等&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-35" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-37" target="xLDLfK03S4XXTLqaUx2n-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-37" value="reset_eatly_page_tables" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3370" y="460" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-38" value="重置所有的全局页目录项，同时项cr3中重新写入全局页目录表的地址。后面将重新建立页表" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-37" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-39" value="设置并加载IDT" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3370" y="590" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-40" value="通过设置并加载中断描述符表，能够让CPU在发生中断时做出相应的动作" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-39" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-41" target="xLDLfK03S4XXTLqaUx2n-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-41" value="copy_bootdata" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3370" y="740" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-42" value="将real_mod_data拷贝进boot_params；然后将boot_params的commandline的64位地址拷贝到boot_command_line中。这样我们就得到了内核命令行和boot_params结构体" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-41" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-43" value="load_ucode_bsp" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3370" y="890" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-44" value="加载处理器微码" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-43" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-45" target="xLDLfK03S4XXTLqaUx2n-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-45" value="检查console_loglevel" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3370" y="1030" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-47" target="xLDLfK03S4XXTLqaUx2n-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-47" value="初始化内存页" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3370" y="1170" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-48" value="&lt;div&gt;对初期页表进行一些设置以便在初始化内核过程中使用；&lt;/div&gt;&lt;div&gt;将初期页表中的大部分清零，只保留内核高地址映射&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-47" vertex="1">
          <mxGeometry x="6" y="20" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-40" target="xLDLfK03S4XXTLqaUx2n-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-44" target="xLDLfK03S4XXTLqaUx2n-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-55" value="x86_64_start_reservations" style="swimlane;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="3370" y="1320" width="350" height="200" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-56" value="&lt;div&gt;首先检查boot_params.hdr.version，接下来调用了reserve_ebda_region函数，这个函数为EDBA（Extended BIOS Data Area，扩展BIOS数据区域）预留空间。扩展BIOS预留区域位于常规内存顶部（常规内存&amp;lt;Conventional Memory&amp;gt;是指前640K字节的内存），包含了端口、磁盘参数等数据&lt;/div&gt;&lt;div&gt;探后进入到内核入口处的初始化： &lt;b&gt;&lt;font color=&quot;#ff3333&quot;&gt;start_kernel&lt;/font&gt;&lt;/b&gt;函数&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-55" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="170" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-60" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;init\main.c&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3900" y="80" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-61" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;start_kernel&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="3860" y="170" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-63" value="start_kernel函数的主要目的是完成内核初始化，并启动祖先进程（1号进程）" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="3860" y="250" width="350" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-64" target="xLDLfK03S4XXTLqaUx2n-66" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-64" value="lockdep_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="320" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-65" value="初始化lock validator。初始化两个哈希表并设置lockdep_initalized全局变量为1" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-64" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-66" target="xLDLfK03S4XXTLqaUx2n-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-66" value="set_task_stack_end_magic" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="470" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-67" value="初始化进程（任务）数据结构&lt;div&gt;先通过end_of_stack函数获取堆栈并赋值给task_struct&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-66" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-68" target="xLDLfK03S4XXTLqaUx2n-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-68" value="smp_setup_processor_id" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="600" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-69" value="此函数在x86_64是空函数，" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-68" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-70" target="xLDLfK03S4XXTLqaUx2n-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-70" value="debug_objects_early_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="730" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-72" target="xLDLfK03S4XXTLqaUx2n-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-72" value="boot_init_stack_canary" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="850" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-73" target="xLDLfK03S4XXTLqaUx2n-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-73" value="cgroup_init_early" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="990" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-74" target="xLDLfK03S4XXTLqaUx2n-81" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-74" value="local_irq_disable" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="1115" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-81" target="xLDLfK03S4XXTLqaUx2n-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-81" value="boot_cpu_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="1250" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-82" value="此函数通过掩码初始化每一颗CPU" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-81" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-83" target="xLDLfK03S4XXTLqaUx2n-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-83" value="page_address_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="1370" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-85" target="xLDLfK03S4XXTLqaUx2n-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-85" value="打印内核的第一条消息" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="1495" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-86" value="打印内核的版本号及编译环境信息&lt;div&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;pr_notice&lt;/span&gt;(&lt;span style=&quot;color: #0f4a85;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;%s&lt;/span&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;&quot;&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;linux_banner&lt;/span&gt;);&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-85" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-87" target="rLRGQqVOm3wpY2ALPgQe-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-87" value="体系架构初始化setup_arch" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="1630" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-88" value="setup_arch的函数定义在arch/x86/kernel/setup.c中" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-87" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-93" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;setup_arch&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="4370" y="170" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-94" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;arch\x86\kernel\setup.c&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="4400" y="80" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-95" target="xLDLfK03S4XXTLqaUx2n-97" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-95" value="memblock_reserve" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="310" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-96" value="解析内核的段，对内存页进行分配" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-95" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-97" target="xLDLfK03S4XXTLqaUx2n-99" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-97" value="early_reserve_initrd" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="450" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-98" value="保留替换内核的text和data段用来初始化initrd，根文件系统就是通过这种方式进行初始化" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-97" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-99" target="xLDLfK03S4XXTLqaUx2n-101" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-99" value="olpc_ofw_detect" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="610" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-100" value="检测系统是否支持One ：Laptop Per Child support" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-99" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-101" target="xLDLfK03S4XXTLqaUx2n-103" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-101" value="early_trap_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="750" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-102" value="初始化调试功能和int3中断" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-101" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-103" target="xLDLfK03S4XXTLqaUx2n-105" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-103" value="early_cpu_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="890" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-104" value="负责收集CPU和供应商的信息" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-103" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-105" target="xLDLfK03S4XXTLqaUx2n-107" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-105" value="early_ioremap_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="1020" width="350" height="170" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-106" value="通常有两种实现与设备通信的方式：&lt;div&gt;&amp;nbsp; &amp;nbsp;- I/O端口&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;- 设备内存&lt;/div&gt;&lt;div&gt;我们在linux内核启动过程中见过第一种方法（通过outb/inb指令实现&lt;span style=&quot;background-color: initial;&quot;&gt;）。第二种方法是把I/O的物理地址映射到虚拟地址。当CPU读取到一段物理地址时，它可以读取到映射了I/O设备的物理RAM区域。&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;early_ioremap_init在正常的像ioremap这样的映射函数可用之前，把I/O内存映射到内核地址空间以方便读取&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-105" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="145" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-107" target="xLDLfK03S4XXTLqaUx2n-110" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-107" value="获取根设备的主次设备号" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="1230" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-108" value="&lt;div&gt;获取根设备的主次设备号后，initrd会通过do_mount_root函数挂载到这个根设备上。其中注射笔号用来识别和这个设备有关的驱动，次设备号用来表示使用该驱动的各设备。&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-107" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-110" target="xLDLfK03S4XXTLqaUx2n-112" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-110" value="显示设置" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="1370" width="350" height="210" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-111" value="&lt;div&gt;设置与显示屏有关的参数（行、列、视频页等），与拓展显示识别数据、视频模式、应道启动器类型等参数&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; line-height: 19px; white-space: pre;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;ROOT_DEV&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(94, 44, 188);&quot;&gt;old_decode_dev&lt;/span&gt;(&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;boot_params&lt;/span&gt;.&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;hdr&lt;/span&gt;.&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;root_dev&lt;/span&gt;);&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;screen_info&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;boot_params&lt;/span&gt;.&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;screen_info&lt;/span&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;edid_info&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;boot_params&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;edid_info&lt;/span&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;saved_video_mode&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;boot_params&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;hdr&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;vid_mode&lt;/span&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;bootloader_type&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;boot_params&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;hdr&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;type_of_loader&lt;/span&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;bootloader_version&lt;/span&gt; &amp;nbsp;&lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;bootloader_type&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #096d48;&quot;&gt;0xf&lt;/span&gt;;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;bootloader_version&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;|=&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;boot_params&lt;/span&gt;.&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;hdr&lt;/span&gt;.&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;ext_loader_ver&lt;/span&gt; &lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&quot;color: rgb(9, 109, 72);&quot;&gt;4&lt;/span&gt;;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-110" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="185" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-112" target="xLDLfK03S4XXTLqaUx2n-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-112" value="setup_memory_map" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="1640" width="350" height="200" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-113" value="&lt;div&gt;x86_init是一种x86_init_ops类型的结构体，用来表示资源初始化、pci初始化平台特性的一些设置函数，其初始化定义在arch/x86/kernel/x86_init.c文件中。这个过程中所有的e820条目经过整理和把内存分区跳入e820map结构体，并通过printk打印出来&lt;/div&gt;&lt;div style=&quot;font-size: 9px;&quot;&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;who &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;x86_init&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;resources&lt;/span&gt;.&lt;span style=&quot;color: #5e2cbc;&quot;&gt;memory_setup&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;memcpy&lt;/span&gt;(&lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt;e820_saved, &lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt;e820, &lt;span style=&quot;color: #0f4a85;&quot;&gt;sizeof&lt;/span&gt;(&lt;span style=&quot;color: #0f4a85;&quot;&gt;struct&lt;/span&gt; e820map));&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;printk&lt;/span&gt;(&lt;span style=&quot;color: #0f4a85;&quot;&gt;KERN_INFO&lt;/span&gt; &lt;span style=&quot;color: #0f4a85;&quot;&gt;&quot;e820: BIOS-provided physical RAM map:&lt;/span&gt;&lt;span style=&quot;color: #ee0000;&quot;&gt;\n&lt;/span&gt;&lt;span style=&quot;color: #0f4a85;&quot;&gt;&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;e820_print_map&lt;/span&gt;(who);&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-112" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="165" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-122" target="xLDLfK03S4XXTLqaUx2n-124" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-122" value="parse_setup_data" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="1900" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-123" value="&lt;div&gt;setup是内核启动头中包含的字段，可参考x86的启动协议。它用来存储不同类型的设置信息，例如设备数blob，EFI设置数据等。&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-122" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-171" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-124" target="xLDLfK03S4XXTLqaUx2n-128" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-124" value="copy_edd" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="2050" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-125" value="&lt;div&gt;从boot_params结构中估值BIOS的EDD信息到edd结构中&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-124" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-172" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-128" target="xLDLfK03S4XXTLqaUx2n-131" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-128" value="内存描述符/代码、数据、资源的初始化" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4370" y="2190" width="350" height="300" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-129" value="&lt;div&gt;init_mm是初始化阶段的内存描述符定义&lt;/div&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;init_mm&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;start_code&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; (&lt;span style=&quot;color: #0f4a85;&quot;&gt;unsigned&lt;/span&gt; &lt;span style=&quot;color: #0f4a85;&quot;&gt;long&lt;/span&gt;) _text;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;init_mm&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;end_code&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; (&lt;span style=&quot;color: #0f4a85;&quot;&gt;unsigned&lt;/span&gt; &lt;span style=&quot;color: #0f4a85;&quot;&gt;long&lt;/span&gt;) _etext;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;init_mm&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;end_data&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; (&lt;span style=&quot;color: #0f4a85;&quot;&gt;unsigned&lt;/span&gt; &lt;span style=&quot;color: #0f4a85;&quot;&gt;long&lt;/span&gt;) _edata;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;init_mm&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;brk&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; _brk_end;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;code_resource&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;start&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #5e2cbc;&quot;&gt;__pa_symbol&lt;/span&gt;(_text);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;code_resource&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;end&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #5e2cbc;&quot;&gt;__pa_symbol&lt;/span&gt;(_etext)&lt;span style=&quot;color: #000000;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #096d48;&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;data_resource&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;start&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #5e2cbc;&quot;&gt;__pa_symbol&lt;/span&gt;(_etext);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;data_resource&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;end&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #5e2cbc;&quot;&gt;__pa_symbol&lt;/span&gt;(_edata)&lt;span style=&quot;color: #000000;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #096d48;&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;bss_resource&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;start&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #5e2cbc;&quot;&gt;__pa_symbol&lt;/span&gt;(__bss_start);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;bss_resource&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;end&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #5e2cbc;&quot;&gt;__pa_symbol&lt;/span&gt;(__bss_stop)&lt;span style=&quot;color: #000000;&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: #096d48;&quot;&gt;1&lt;/span&gt;;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-128" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="245" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-173" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-131" target="xLDLfK03S4XXTLqaUx2n-133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-131" value="x86_configure_nx" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="2560" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-132" value="&lt;div&gt;NX-bit或者mo-execute位是页目录的第63比特位，其作用是控制被映射的物理页面是否具有执行代码的能力。此函数检查CPU是否支持NX-bit并根据结果赋值&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-131" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-174" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-133" target="xLDLfK03S4XXTLqaUx2n-135" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-133" value="parse_early_param" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="2690" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-134" value="解析内核命令行并创建不同的服务" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-133" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-175" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-135" target="xLDLfK03S4XXTLqaUx2n-137" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-135" value="x86_report_nx" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="2840" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-136" value="打印NX相关的信息" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-135" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-176" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-137" target="xLDLfK03S4XXTLqaUx2n-139" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-137" value="memblock_x86_reserve_range_setup_data" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="2980" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-138" value="为setup_data重新映射内存并保留内存块" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-137" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-177" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-139" target="xLDLfK03S4XXTLqaUx2n-141" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-139" value="acpi_mps_check" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="3100" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-179" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-141" target="xLDLfK03S4XXTLqaUx2n-142" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-141" value="早期的pci转储" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="3240" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-180" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-142" target="xLDLfK03S4XXTLqaUx2n-144" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-142" value="完成内存解析" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="3390" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-143" value="&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;e820_reserve_setup_data&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;finish_e820_parsing&lt;/span&gt;();&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-142" vertex="1">
          <mxGeometry x="7" y="30" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-181" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-144" target="xLDLfK03S4XXTLqaUx2n-146" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-144" value="dmi_scan_machine" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="3550" width="350" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-145" value="有两种方法可以用来访问SMBIOS（Systemd Management BIOS），第一种是从EFI的配置表获得指向SMBIOS表的指针；第二种通过扫描0xF0000和0x10000地址之间的物理内存。&lt;div&gt;此函数是第二种方法&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-144" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-182" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-146" target="xLDLfK03S4XXTLqaUx2n-150" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-146" value="dmi_memdev_walk" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="3700" width="350" height="210" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-147" value="遍历整个内存设备，后面RESERVE_BRK函数会在brk段预留给定的大小&lt;div style=&quot;font-size: 11px;&quot;&gt;&lt;div style=&quot;color: rgb(41, 41, 41); background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; line-height: 19px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;init_hypervisor_platform&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;x86_init&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;resources&lt;/span&gt;.&lt;span style=&quot;color: #5e2cbc;&quot;&gt;probe_roms&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #515151;&quot;&gt;/* after parse_early_param, so could debug it */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;insert_resource&lt;/span&gt;(&lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt;iomem_resource, &lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt;code_resource);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;insert_resource&lt;/span&gt;(&lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt;iomem_resource, &lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt;data_resource);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;insert_resource&lt;/span&gt;(&lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt;iomem_resource, &lt;span style=&quot;color: #000000;&quot;&gt;&amp;amp;&lt;/span&gt;bss_resource);&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #5e2cbc;&quot;&gt;early_gart_iommu_check&lt;/span&gt;();&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-146" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="195" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-148" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="4330" y="3550" width="20" height="360" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-149" value="桌面管理接口初始化" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="4300" y="3660" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-183" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-150" target="xLDLfK03S4XXTLqaUx2n-153" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-150" value="find_smp_config（配置均衡多处理器）" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="4000" width="350" height="150" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-151" value="通过扫描内存中的一些取悦来寻找SMP的配置信息。&lt;div&gt;系统BIOS的主要功能之一就是创建MP浮点型指针结构和MP配置表。而且操作系统鼻血可以访问关于多处理器配置的有关信息。mpf_intel中存储了多处理器配置表的物理地址，然后smp_scan_config函数在指定的内存取悦循环查找MP floating pointer structure。如果搜索成功，就调用memblock_reserve函数保留一定的内存块&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-150" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-184" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-153" target="xLDLfK03S4XXTLqaUx2n-155" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-153" value="reserve_ibft_region" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="4240" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-185" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-155" target="xLDLfK03S4XXTLqaUx2n-156" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-155" value="early_alloc_pgt_buf" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="4360" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-186" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-156" target="xLDLfK03S4XXTLqaUx2n-157" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-156" value="cleanup_highmap" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="4490" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-187" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-157" target="xLDLfK03S4XXTLqaUx2n-158" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-157" value="memblock_set_current_limit" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="4630" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-188" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-158" target="xLDLfK03S4XXTLqaUx2n-159" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-158" value="memblock_x86_fill" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="4760" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-189" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-159" target="xLDLfK03S4XXTLqaUx2n-161" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-159" value="reserve_real_mode" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="4880" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-160" value="用于保留从0x0到1M的低端内存用做到实模式的跳板（用于重启等）" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-159" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-190" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="xLDLfK03S4XXTLqaUx2n-161" target="xLDLfK03S4XXTLqaUx2n-163" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-161" value="trim_platform_memory_range" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="5020" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-162" value="用于清除以0x20050000,0x20110000等地址开头的内存空间。这些地址必须被排除在外，因为sandy bridge会在这些内存区域出现问题" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-161" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-191" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-163" target="xLDLfK03S4XXTLqaUx2n-165" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-163" value="trim_low_memory_range" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="5160" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-164" value="保留memblock的前4KB页面" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-163" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-192" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-165" target="xLDLfK03S4XXTLqaUx2n-167" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-165" value="init_mem_mapping" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="5280" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-166" value="用于在PAGE_OFFSET处重建物理内存的直接映射" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-165" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-193" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-167" target="xLDLfK03S4XXTLqaUx2n-169" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-167" value="early_trap_pf_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="5410" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-168" value="用于建立PF处理函数" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-167" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xLDLfK03S4XXTLqaUx2n-169" target="B23V63-peYjfyN254-Q6-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-169" value="setup_real_mode" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="5530" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="xLDLfK03S4XXTLqaUx2n-170" value="用于建立到实模式代码的跳板" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="xLDLfK03S4XXTLqaUx2n-169" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-1" target="B23V63-peYjfyN254-Q6-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-1" value="memblock_set_current_limit" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="5670" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-2" value="将memblock的限制设置为所有映射页" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-1" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-3" target="B23V63-peYjfyN254-Q6-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-3" value="setup_log_buf（1）" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="5820" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-4" value="这里的1表示它是早期设置。" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-3" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-5" target="B23V63-peYjfyN254-Q6-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-5" value="reserve_initrid" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="5970" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-6" value="将initrid直接映射到内存中" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-5" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-7" target="B23V63-peYjfyN254-Q6-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-7" value="vsmp_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="6110" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-8" value="初始化对ScaleMP vSMP的支持" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-7" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-9" target="B23V63-peYjfyN254-Q6-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-9" value="io_delay_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="6240" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-10" value="允许覆盖默认I/O延迟0x80端口" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-9" vertex="1">
          <mxGeometry x="10" y="30" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-11" target="B23V63-peYjfyN254-Q6-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-11" value="apci_boot_table_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="6370" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-13" target="B23V63-peYjfyN254-Q6-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-13" value="early_acpi_boot_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="6500" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-14" target="B23V63-peYjfyN254-Q6-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-14" value="initmem_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="6640" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-15" target="B23V63-peYjfyN254-Q6-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-15" value="dma_contiguous_reserve" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="6770" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-16" value="DMA是设备不通过CPU直接访问内存的方式。" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-15" vertex="1">
          <mxGeometry x="3" y="27.5" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-17" target="B23V63-peYjfyN254-Q6-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-17" value="reserve_crashkernel" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="6900" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-19" target="B23V63-peYjfyN254-Q6-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-19" value="memblock_find_dma_reserve" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="7030" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-20" value="统计DMA区域中的保留页数" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-19" vertex="1">
          <mxGeometry x="3" y="27.5" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-21" target="B23V63-peYjfyN254-Q6-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-21" value="x86_init.paging.pagetable_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="7170" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-22" value="初始化稀疏内存和区域大小" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-21" vertex="1">
          <mxGeometry x="3" y="27.5" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-23" target="B23V63-peYjfyN254-Q6-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-23" value="tboot_probe" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="7490" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-24" target="B23V63-peYjfyN254-Q6-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-24" value="map_vsyscall" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="7640" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-25" value="vsyscall是一个特殊的段，提供对某些系统调用的快速访问，例如getcpu" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-24" vertex="1">
          <mxGeometry x="3" y="27.5" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-26" target="B23V63-peYjfyN254-Q6-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-26" value="trampoline_cr4_feature" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="7330" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-27" value="检测CPU是否支持cr4，然后保存其内容" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="B23V63-peYjfyN254-Q6-26" vertex="1">
          <mxGeometry x="3" y="27.5" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-28" target="B23V63-peYjfyN254-Q6-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-28" value="apic_boot_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="7770" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-29" target="B23V63-peYjfyN254-Q6-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-29" value="sfi_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="7890" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-30" target="B23V63-peYjfyN254-Q6-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-30" value="x86_dtb_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="8020" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-31" target="B23V63-peYjfyN254-Q6-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-31" value="get_smp_config" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="8155" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-32" target="B23V63-peYjfyN254-Q6-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-32" value="prefill_possible_map" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="8300" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-33" target="B23V63-peYjfyN254-Q6-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-33" value="init_cpu_to_node" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="8450" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-34" target="B23V63-peYjfyN254-Q6-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-34" value="init_apic_mappings" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="8590" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-35" target="B23V63-peYjfyN254-Q6-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-35" value="kvm_guest_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="8720" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-36" target="B23V63-peYjfyN254-Q6-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-36" value="e820_reserve_resources" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="8850" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-37" target="B23V63-peYjfyN254-Q6-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-37" value="e820_mark_nosave_regions" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="8980" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-38" target="B23V63-peYjfyN254-Q6-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-38" value="x86_init_resources" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="9110" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-39" target="B23V63-peYjfyN254-Q6-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-39" value="reserve_resources" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="9230" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-40" target="B23V63-peYjfyN254-Q6-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-40" value="e820_setup_gap" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="9370" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-41" target="B23V63-peYjfyN254-Q6-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-41" value="x86_init.oem.banner" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="9500" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-42" target="B23V63-peYjfyN254-Q6-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-42" value="x86_init.timers.wallclock_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="9650" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B23V63-peYjfyN254-Q6-43" target="B23V63-peYjfyN254-Q6-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-43" value="memcheck_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="9790" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-44" target="B23V63-peYjfyN254-Q6-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-44" value="arch_init_ideal_nops" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="9940" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="B23V63-peYjfyN254-Q6-45" target="B23V63-peYjfyN254-Q6-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-45" value="register_refined_jiffies" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="10060" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="B23V63-peYjfyN254-Q6-46" value="__initcall" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="4370" y="10180" width="350" height="95" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-1" target="rLRGQqVOm3wpY2ALPgQe-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-1" value="mm_init_cpumask" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="1770" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-2" value="将cpumask指针设置为内存描述符cpumask" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-1" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-3" target="rLRGQqVOm3wpY2ALPgQe-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-3" value="setup_command_line" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="1910" width="350" height="130" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-4" value="获取内核命令行的指针，分配几个缓冲区来存储命令行。&lt;div style=&quot;font-size: 10px;&quot;&gt;&lt;ul style=&quot;box-sizing: border-box; padding-left: 2em; margin-top: 0px; margin-bottom: 16px; color: rgb(31, 35, 40); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Noto Sans&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;; background-color: rgb(255, 255, 255);&quot; data-immersive-translate-walked=&quot;45189de3-fc48-444f-a3cc-4364bdc870d5&quot; dir=&quot;auto&quot;&gt;&lt;li style=&quot;box-sizing: border-box;&quot; data-immersive-translate-paragraph=&quot;1&quot; data-immersive-translate-walked=&quot;45189de3-fc48-444f-a3cc-4364bdc870d5&quot;&gt;&lt;font style=&quot;box-sizing: border-box; word-break: break-word; font-size: 10px;&quot; lang=&quot;zh-CN&quot; data-immersive-translate-translation-element-mark=&quot;1&quot; class=&quot;notranslate immersive-translate-target-wrapper immersive-translate-state-dual&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: var(--fontStack-monospace, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace); padding: 0.2em 0.4em; margin: 0px; white-space-collapse: break-spaces; background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted)); border-radius: 6px;&quot; data-immersive-translate-walked=&quot;45189de3-fc48-444f-a3cc-4364bdc870d5&quot;&gt;saved_command_line&lt;/code&gt;&amp;nbsp;- 将包含启动命令行；&lt;/font&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot; data-immersive-translate-paragraph=&quot;1&quot; data-immersive-translate-walked=&quot;45189de3-fc48-444f-a3cc-4364bdc870d5&quot;&gt;&lt;font style=&quot;box-sizing: border-box; word-break: break-word; font-size: 10px;&quot; lang=&quot;zh-CN&quot; data-immersive-translate-translation-element-mark=&quot;1&quot; class=&quot;notranslate immersive-translate-target-wrapper immersive-translate-state-dual&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: var(--fontStack-monospace, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace); padding: 0.2em 0.4em; margin: 0px; white-space-collapse: break-spaces; background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted)); border-radius: 6px;&quot; data-immersive-translate-walked=&quot;45189de3-fc48-444f-a3cc-4364bdc870d5&quot;&gt;initcall_command_line&lt;/code&gt;&amp;nbsp;- 将包含启动命令行。将在&amp;nbsp;&lt;code style=&quot;box-sizing: border-box; font-family: var(--fontStack-monospace, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace); padding: 0.2em 0.4em; margin: 0px; white-space-collapse: break-spaces; background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted)); border-radius: 6px;&quot; data-immersive-translate-walked=&quot;45189de3-fc48-444f-a3cc-4364bdc870d5&quot;&gt;do_initcall_level&lt;/code&gt;&amp;nbsp;中使用；&lt;/font&gt;&lt;/li&gt;&lt;li style=&quot;box-sizing: border-box; margin-top: 0.25em;&quot; data-immersive-translate-paragraph=&quot;1&quot; data-immersive-translate-walked=&quot;45189de3-fc48-444f-a3cc-4364bdc870d5&quot;&gt;&lt;font style=&quot;box-sizing: border-box; word-break: break-word; font-size: 10px;&quot; lang=&quot;zh-CN&quot; data-immersive-translate-translation-element-mark=&quot;1&quot; class=&quot;notranslate immersive-translate-target-wrapper immersive-translate-state-dual&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: var(--fontStack-monospace, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace); padding: 0.2em 0.4em; margin: 0px; white-space-collapse: break-spaces; background-color: var(--bgColor-neutral-muted, var(--color-neutral-muted)); border-radius: 6px;&quot; data-immersive-translate-walked=&quot;45189de3-fc48-444f-a3cc-4364bdc870d5&quot;&gt;static_command_line&lt;/code&gt;&amp;nbsp;- 将包含参数解析的命令行。&lt;/font&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-3" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-5" target="rLRGQqVOm3wpY2ALPgQe-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-5" value="setup_nr_cpu_ids" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="2080" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-6" value="确定系统中可用的CPU数量" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-5" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-7" target="rLRGQqVOm3wpY2ALPgQe-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-7" value="setup_per_cpu_areas" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="2200" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-8" value="为percpu设置内存区域" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-7" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-9" target="rLRGQqVOm3wpY2ALPgQe-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-9" value="smp_prepare_boot_cpu" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="2330" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-11" target="rLRGQqVOm3wpY2ALPgQe-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-11" value="build_all_zonelists" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="2460" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-12" value="设置优先分配的区域的顺序" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-11" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-13" target="rLRGQqVOm3wpY2ALPgQe-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-13" value="page_alloc_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="2610" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-15" target="rLRGQqVOm3wpY2ALPgQe-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-15" value="parse_early_param" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="2770" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-19" value="特定体系结构的代码中已经调用此函数，但并非所有的体系都会调用，需要调用第二个函数parse_args来解析和处理非早期命令行参数" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-15" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-16" target="rLRGQqVOm3wpY2ALPgQe-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-16" value="jump_label_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="2900" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-20" value="初始化跳转标签" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-16" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-17" target="rLRGQqVOm3wpY2ALPgQe-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-17" value="setup_log_buf(0)" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="3020" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-21" value="设置printk日志缓冲区" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-17" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-22" target="rLRGQqVOm3wpY2ALPgQe-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-22" value="pidhash_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="3140" width="350" height="120" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-18" value="每个使用fork或者clone的生成的进程都会由内核自动分配一个唯一的PID值。PIDs的管理主要围绕两个特殊的数据结构：struct pid 和 struct upid。第一个标识有关内核中PID的信息，第二个结构表示在特定命名空间中可见的信息。所有PID的信息存储在特殊哈希表中" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-22" vertex="1">
          <mxGeometry x="7" y="35" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-23" target="rLRGQqVOm3wpY2ALPgQe-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-23" value="vfs_caches_init_early" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="3300" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-24" value="对虚拟文件系统进行早期初始化" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-23" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-25" target="rLRGQqVOm3wpY2ALPgQe-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-25" value="sort_main_extable" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="3420" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-26" value="内核内置异常表进行排序" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-25" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-27" value="trap_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="3540" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-28" value="初始化trap处理程序" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-27" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-29" target="rLRGQqVOm3wpY2ALPgQe-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-29" value="mm_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="3660" width="350" height="140" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-30" value="初始化内存管理器，其初始化了内核内存管理器的不同部分：&lt;div&gt;&lt;div&gt;page_ext_init_flatmem();&lt;/div&gt;&lt;div&gt;mem_init();&lt;/div&gt;&lt;div&gt;kmem_cache_init();&lt;/div&gt;&lt;div&gt;percpu_init_late();&lt;/div&gt;&lt;div&gt;pgtable_init();&lt;/div&gt;&lt;div&gt;vmalloc_init();&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-29" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-31" target="rLRGQqVOm3wpY2ALPgQe-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-31" value="sched_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="3840" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-32" value="sched_init" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-31" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="35" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-34" target="BI63Ks_uq0-yI5f1lpsg-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-34" value="preempt_disable" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="3960" width="350" height="110" as="geometry" />
        </mxCell>
        <mxCell id="rLRGQqVOm3wpY2ALPgQe-35" value="抢占就是操作系统内核抢占当前任务以运行更高优先级任务的能力。&lt;div&gt;这里需要禁用抢占，因为早期启动时我们只有一个init进程，并且在调用cpu_idle之前不需要停止他&lt;/div&gt;" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="rLRGQqVOm3wpY2ALPgQe-34" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="65" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.497;entryY=-0.023;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="rLRGQqVOm3wpY2ALPgQe-27" target="rLRGQqVOm3wpY2ALPgQe-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BI63Ks_uq0-yI5f1lpsg-19" target="BI63Ks_uq0-yI5f1lpsg-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-19" value="idr_init_cache" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="4100" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-20" value="idr 是一个管理 ID 到指针映射的数据结构，全称为 ID Radix Tree。idr 用于分配和回收小整数 ID，在多种内核数据结构中提供了一种简单高效的方式来快速查找、添加和删除项" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="BI63Ks_uq0-yI5f1lpsg-19" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="35" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BI63Ks_uq0-yI5f1lpsg-21" target="BI63Ks_uq0-yI5f1lpsg-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-21" value="rcu_init" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="3860" y="4220" width="350" height="210" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-22" value="RCU 或读复制更新是Linux内核中实现的可扩展的高性能同步机制。在早期阶段，Linux 内核为并发运行的应用程序提供了支持和环境，但所有执行都是使用单个全局锁在内核中串行化的。现在的 Linux 内核没有单一的全局锁，而是提供了不同的机制，包括无锁数据结构、percpu 数据结构等。这些机制之一是 - read-copy update 。 RCU 技术是为很少修改的数据结构而设计的。 RCU 的想法很简单。例如，我们有一个很少修改的数据结构。如果有人想要更改此数据结构，我们会复制此数据结构并在副本中进行所有更改。同时该数据结构的所有其他用户都使用旧版本。接下来，我们需要选择原始版本的数据结构没有用户的安全时刻，并用修改后的副本更新它" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="BI63Ks_uq0-yI5f1lpsg-21" vertex="1">
          <mxGeometry x="7" y="25" width="330" height="135" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BI63Ks_uq0-yI5f1lpsg-23" target="BI63Ks_uq0-yI5f1lpsg-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-23" value="context_tracking_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="4490" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BI63Ks_uq0-yI5f1lpsg-24" target="BI63Ks_uq0-yI5f1lpsg-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-24" value="radix_tree_free" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="4610" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BI63Ks_uq0-yI5f1lpsg-25" target="BI63Ks_uq0-yI5f1lpsg-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-25" value="early_irq_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="4720" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BI63Ks_uq0-yI5f1lpsg-26" target="BI63Ks_uq0-yI5f1lpsg-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-26" value="init_IRQ" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="4820" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BI63Ks_uq0-yI5f1lpsg-27" target="BI63Ks_uq0-yI5f1lpsg-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-27" value="tick_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="4915" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BI63Ks_uq0-yI5f1lpsg-28" target="BUHOhRsxrfWyqlJ3BsAg-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BI63Ks_uq0-yI5f1lpsg-28" value="rcu_init_nohz" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="5030" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-10" target="BUHOhRsxrfWyqlJ3BsAg-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-10" value="init_timers" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="5150" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-11" target="BUHOhRsxrfWyqlJ3BsAg-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-11" value="hrtimers_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="5270" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-12" target="BUHOhRsxrfWyqlJ3BsAg-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-12" value="softirq_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="5390" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-13" target="BUHOhRsxrfWyqlJ3BsAg-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-13" value="timekeeping_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="5505" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-14" target="BUHOhRsxrfWyqlJ3BsAg-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-14" value="time_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="5620" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-15" target="BUHOhRsxrfWyqlJ3BsAg-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-15" value="sched_clock_postinit" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="5740" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-16" target="BUHOhRsxrfWyqlJ3BsAg-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-16" value="perf_event_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="5860" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-17" target="BUHOhRsxrfWyqlJ3BsAg-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-17" value="profile_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="5970" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-18" target="BUHOhRsxrfWyqlJ3BsAg-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-18" value="call_function_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="6090" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-19" target="BUHOhRsxrfWyqlJ3BsAg-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-19" value="local_irq_enable" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="6205" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-20" target="BUHOhRsxrfWyqlJ3BsAg-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-20" value="kmem_cache_init_late" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="6320" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-32" target="BUHOhRsxrfWyqlJ3BsAg-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-32" value="console_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="6430" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-34" target="BUHOhRsxrfWyqlJ3BsAg-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-34" value="lockdep_info" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="6540" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-35" target="BUHOhRsxrfWyqlJ3BsAg-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-35" value="locking_selftest" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="6652.5" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-36" target="BUHOhRsxrfWyqlJ3BsAg-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-36" value="page_cgroup_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="6770" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="BUHOhRsxrfWyqlJ3BsAg-37" target="XttAj_YcZ0qmvY2xNAGH-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BUHOhRsxrfWyqlJ3BsAg-37" value="debug_objects_mem_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="6890" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-1" target="XttAj_YcZ0qmvY2xNAGH-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-1" value="kmemleak_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="7010" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-2" target="XttAj_YcZ0qmvY2xNAGH-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-2" value="setup_per_cpu_pageset" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="7115" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="4035" y="7350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-3" value="numa_policy_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="7230" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-4" target="XttAj_YcZ0qmvY2xNAGH-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-4" value="sched_clock_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="7355" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-5" target="XttAj_YcZ0qmvY2xNAGH-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-5" value="calibrate_delay" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="7470" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-6" target="XttAj_YcZ0qmvY2xNAGH-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-6" value="pidmap_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="7585" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-7" target="XttAj_YcZ0qmvY2xNAGH-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-7" value="anon_vma_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="7700" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-8" target="XttAj_YcZ0qmvY2xNAGH-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-8" value="acpi_early_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="7830" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-21" target="XttAj_YcZ0qmvY2xNAGH-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-21" value="thread_info_cache_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="7970" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-22" target="XttAj_YcZ0qmvY2xNAGH-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-22" value="cred_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="8085" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-23" target="XttAj_YcZ0qmvY2xNAGH-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-23" value="fork_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="8190" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-24" target="XttAj_YcZ0qmvY2xNAGH-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-24" value="proc_caches_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="8300" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-25" target="XttAj_YcZ0qmvY2xNAGH-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-25" value="buffer_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="8420" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-26" target="XttAj_YcZ0qmvY2xNAGH-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-26" value="key_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="8530" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-27" target="XttAj_YcZ0qmvY2xNAGH-28" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-27" value="security_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="8640" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-28" target="XttAj_YcZ0qmvY2xNAGH-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-28" value="dbg_late_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="8745" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-29" target="XttAj_YcZ0qmvY2xNAGH-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-29" value="vfs_caches_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="8862.5" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-30" target="XttAj_YcZ0qmvY2xNAGH-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-30" value="signals_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="8980" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-31" target="XttAj_YcZ0qmvY2xNAGH-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-31" value="page_writeback_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="9090" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-32" target="XttAj_YcZ0qmvY2xNAGH-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-32" value="proc_root_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="9200" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-61" value="在 proc_root_init 的末尾，我们调用 proc_sys_init 函数来创建 /proc/sys 目录并初始化Sysctl。" style="text;strokeColor=none;align=left;fillColor=none;html=1;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="XttAj_YcZ0qmvY2xNAGH-32" vertex="1">
          <mxGeometry x="7" y="30" width="330" height="35" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-33" target="XttAj_YcZ0qmvY2xNAGH-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-33" value="cgroup_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="9310" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-34" target="XttAj_YcZ0qmvY2xNAGH-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-34" value="cpuset_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="9420" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-35" target="XttAj_YcZ0qmvY2xNAGH-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-35" value="taskstats_init_early" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="9525" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-36" target="XttAj_YcZ0qmvY2xNAGH-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-36" value="delayacct_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="9630" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-37" target="XttAj_YcZ0qmvY2xNAGH-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-37" value="check_bugs" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="9730" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-38" target="XttAj_YcZ0qmvY2xNAGH-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-38" value="sfi_init_late" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="9840" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="XttAj_YcZ0qmvY2xNAGH-39" target="XttAj_YcZ0qmvY2xNAGH-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-39" value="ftrace_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="9952.5" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XttAj_YcZ0qmvY2xNAGH-40" value="rest_init" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="3860" y="10060" width="350" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0e2AFCFWt2nfoJRtxRMj-1" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;&lt;b&gt;init\main.c&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="4910" y="90" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0e2AFCFWt2nfoJRtxRMj-2" value="&lt;font style=&quot;font-size: 20px;&quot;&gt;rest_init&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="4850" y="170" width="350" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0e2AFCFWt2nfoJRtxRMj-3" target="Z_q01ZVwBevNQPOma37S-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0e2AFCFWt2nfoJRtxRMj-3" value="rcu_scheduler_starting" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="4850" y="310" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Z_q01ZVwBevNQPOma37S-1" target="Z_q01ZVwBevNQPOma37S-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-1" value="kernel_thread" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4850" y="460" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Z_q01ZVwBevNQPOma37S-2" target="Z_q01ZVwBevNQPOma37S-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-2" value="numa_default_policy" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4850" y="610" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="Z_q01ZVwBevNQPOma37S-3" target="Z_q01ZVwBevNQPOma37S-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-3" value="rcu_read_lock" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4850" y="750" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Z_q01ZVwBevNQPOma37S-4" target="Z_q01ZVwBevNQPOma37S-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-4" value="rcu_read_unlock" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4850" y="870" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Z_q01ZVwBevNQPOma37S-5" value="complete" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4850" y="1000" width="350" height="90" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
